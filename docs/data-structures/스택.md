# ìŠ¤íƒ (Stack)

> í•œ ì¤„ ìš”ì•½: ê°€ì¥ ë‚˜ì¤‘ì— ë“¤ì–´ì˜¨ ê²ƒì´ ê°€ì¥ ë¨¼ì € ë‚˜ê°€ëŠ” LIFO(Last In, First Out) ìë£Œêµ¬ì¡°

## ğŸ“Œ ëª©ì°¨
- [ê°œìš”](#ê°œìš”)
- [í•µì‹¬ ê°œë…](#í•µì‹¬-ê°œë…)
- [Java ì‚¬ìš©ë²•](#java-ì‚¬ìš©ë²•)
- [Kotlin ì‚¬ìš©ë²•](#kotlin-ì‚¬ìš©ë²•)
- [ë¬¸ì œ ìœ í˜•ë³„ í’€ì´ë²•](#ë¬¸ì œ-ìœ í˜•ë³„-í’€ì´ë²•)
- [ì£¼ì˜ì‚¬í•­](#ì£¼ì˜ì‚¬í•­)
- [ì—°ìŠµ ë¬¸ì œ](#ì—°ìŠµ-ë¬¸ì œ)

---

## ê°œìš”

### ì •ì˜
- **LIFO (Last In, First Out)**: ë§ˆì§€ë§‰ì— ë„£ì€ ê²ƒì´ ë¨¼ì € ë‚˜ì˜¨ë‹¤
- í”„ë§ê¸€ìŠ¤ í†µ, ì ‘ì‹œ ìŒ“ê¸°ë¥¼ ìƒê°í•˜ë©´ ë¨
- ì£¼ìš” ì—°ì‚°: `push`(ë„£ê¸°), `pop`(ë¹¼ê¸°), `peek`(ë³´ê¸°ë§Œ)

### ì™œ ì¤‘ìš”í•œê°€?
- ì½”ë”©í…ŒìŠ¤íŠ¸ **í•„ìˆ˜** ìë£Œêµ¬ì¡°
- ê´„í˜¸ ë§¤ì¹­, ìˆ˜ì‹ ê³„ì‚°, DFS ë“± ë‹¤ì–‘í•œ ë¬¸ì œì—ì„œ í™œìš©
- ì¬ê·€ í˜¸ì¶œ ìì²´ê°€ ìŠ¤íƒ êµ¬ì¡° (ì½œ ìŠ¤íƒ)

### ì‹œê°„/ê³µê°„ ë³µì¡ë„
| ì—°ì‚° | ì‹œê°„ ë³µì¡ë„ | ì„¤ëª… |
|-----|-----------|------|
| push | O(1) | ë§¨ ìœ„ì— ì¶”ê°€ |
| pop | O(1) | ë§¨ ìœ„ì—ì„œ ì œê±° |
| peek | O(1) | ë§¨ ìœ„ ê°’ í™•ì¸ |
| isEmpty | O(1) | ë¹„ì—ˆëŠ”ì§€ í™•ì¸ |
| search | O(n) | íŠ¹ì • ê°’ ì°¾ê¸° (ê±°ì˜ ì•ˆ ì”€) |

---

## í•µì‹¬ ê°œë…

### 1. LIFO ë™ì‘ ì›ë¦¬
```
push(1) â†’ [1]
push(2) â†’ [1, 2]
push(3) â†’ [1, 2, 3]
pop()   â†’ 3 ë°˜í™˜ â†’ [1, 2]
pop()   â†’ 2 ë°˜í™˜ â†’ [1]
peek()  â†’ 1 ë°˜í™˜ â†’ [1] (ì œê±° ì•ˆ ë¨)
```

### 2. ì–¸ì œ ìŠ¤íƒì„ ë– ì˜¬ë ¤ì•¼ í•˜ëŠ”ê°€?
| ìƒí™© | ì˜ˆì‹œ |
|-----|------|
| **ê°€ì¥ ìµœê·¼ ê²ƒ**ê³¼ ë¹„êµ/ë§¤ì¹­í•  ë•Œ | ê´„í˜¸ ì§ ë§ì¶”ê¸° |
| **ì—­ìˆœ**ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ | ë¬¸ìì—´ ë’¤ì§‘ê¸° |
| **ë˜ëŒì•„ê°€ê¸°** ê¸°ëŠ¥ì´ í•„ìš”í•  ë•Œ | ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°, Undo |
| **ì¬ê·€ë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ** ë°”ê¿€ ë•Œ | DFS êµ¬í˜„ |
| **ì´ì „ ìƒíƒœ**ë¥¼ ê¸°ì–µí•´ì•¼ í•  ë•Œ | ë‹¨ì¡° ìŠ¤íƒ |

### 3. ìŠ¤íƒ vs í ë¹„êµ
| êµ¬ë¶„ | ìŠ¤íƒ (Stack) | í (Queue) |
|-----|-------------|-----------|
| êµ¬ì¡° | LIFO | FIFO |
| ë¹„ìœ  | í”„ë§ê¸€ìŠ¤ í†µ | ëŒ€ê¸°ì¤„ |
| ì‚½ì… | push (ë§¨ ìœ„) | offer (ë§¨ ë’¤) |
| ì‚­ì œ | pop (ë§¨ ìœ„) | poll (ë§¨ ì•) |
| ëŒ€í‘œ í™œìš© | DFS, ê´„í˜¸ ë§¤ì¹­ | BFS, ëŒ€ê¸°ì—´ |

---

## Java ì‚¬ìš©ë²•

### âŒ Stack í´ë˜ìŠ¤ (ë¹„ì¶”ì²œ)
```java
// ì“°ì§€ ë§ˆì„¸ìš”!
Stack<Integer> stack = new Stack<>();
```
**ì™œ ë¹„ì¶”ì²œ?**
- Vectorë¥¼ ìƒì†ë°›ì•„ **ë™ê¸°í™” ì˜¤ë²„í—¤ë“œ** ìˆìŒ
- ë ˆê±°ì‹œ í´ë˜ìŠ¤ (Java 1.0ë¶€í„° ìˆë˜ ê²ƒ)

### âœ… Deque ì¸í„°í˜ì´ìŠ¤ (ê¶Œì¥)
```java
import java.util.ArrayDeque;
import java.util.Deque;

Deque<Integer> stack = new ArrayDeque<>();

// ì‚½ì…
stack.push(1);      // [1]
stack.push(2);      // [2, 1] - ì•ì— ì¶”ê°€ë¨

// ì‚­ì œ
int top = stack.pop();      // 2 ë°˜í™˜, [1]
// ì£¼ì˜: ë¹„ì–´ìˆìœ¼ë©´ NoSuchElementException

// ì¡°íšŒ
int peek = stack.peek();    // 1 ë°˜í™˜, ì œê±° ì•ˆ ë¨
// ì£¼ì˜: ë¹„ì–´ìˆìœ¼ë©´ null ë°˜í™˜

// í™•ì¸
boolean empty = stack.isEmpty();  // false
int size = stack.size();          // 1
```

### ì•ˆì „í•œ ì‚¬ìš© íŒ¨í„´
```java
// pop ì „ì— í•­ìƒ ì²´í¬
if (!stack.isEmpty()) {
    int top = stack.pop();
}

// ë˜ëŠ” peekìœ¼ë¡œ ë¨¼ì € í™•ì¸
Integer top = stack.peek();  // null ê°€ëŠ¥
if (top != null) {
    stack.pop();
}
```

---

## Kotlin ì‚¬ìš©ë²•

### ArrayDeque ì‚¬ìš©
```kotlin
val stack = ArrayDeque<Int>()

// ì‚½ì…
stack.addFirst(1)   // [1]
stack.addFirst(2)   // [2, 1]

// ì‚­ì œ
val top = stack.removeFirst()  // 2 ë°˜í™˜

// ì¡°íšŒ
val peek = stack.firstOrNull() // null-safe

// í™•ì¸
val empty = stack.isEmpty()
```

### í™•ì¥ í•¨ìˆ˜ë¡œ í¸í•˜ê²Œ
```kotlin
// ì§ì ‘ ì •ì˜í•´ì„œ ì“°ë©´ í¸í•¨
fun <T> ArrayDeque<T>.push(item: T) = addFirst(item)
fun <T> ArrayDeque<T>.pop() = removeFirst()
fun <T> ArrayDeque<T>.peek() = firstOrNull()
```

---

## ë¬¸ì œ ìœ í˜•ë³„ í’€ì´ë²•

### ìœ í˜• 1: ê´„í˜¸ ë§¤ì¹­ â­â­â­ (ìµœë‹¤ë¹ˆì¶œ)

**ëŒ€í‘œ ë¬¸ì œ**: ë°±ì¤€ 9012 ê´„í˜¸, ë°±ì¤€ 4949 ê· í˜•ì¡íŒ ì„¸ìƒ

**í•µì‹¬ ì•„ì´ë””ì–´**
- ì—¬ëŠ” ê´„í˜¸ â†’ push
- ë‹«ëŠ” ê´„í˜¸ â†’ popí•´ì„œ ì§ í™•ì¸

**í’€ì´ í…œí”Œë¦¿**
```java
public boolean isValid(String s) {
    Deque<Character> stack = new ArrayDeque<>();

    for (char c : s.toCharArray()) {
        if (c == '(' || c == '{' || c == '[') {
            // ì—¬ëŠ” ê´„í˜¸ â†’ push
            stack.push(c);
        } else {
            // ë‹«ëŠ” ê´„í˜¸ â†’ popí•´ì„œ ì§ í™•ì¸
            if (stack.isEmpty()) return false;

            char top = stack.pop();
            if (c == ')' && top != '(') return false;
            if (c == '}' && top != '{') return false;
            if (c == ']' && top != '[') return false;
        }
    }

    return stack.isEmpty();  // ë‚¨ì•„ìˆìœ¼ë©´ false
}
```

**ì²´í¬í¬ì¸íŠ¸**
- [ ] ë‹«ëŠ” ê´„í˜¸ì¸ë° ìŠ¤íƒì´ ë¹„ì–´ìˆëŠ” ê²½ìš°
- [ ] ëª¨ë“  ë¬¸ì ì²˜ë¦¬ í›„ ìŠ¤íƒì´ ë¹„ì–´ìˆëŠ”ì§€

---

### ìœ í˜• 2: ë‹¨ì¡° ìŠ¤íƒ (Monotonic Stack) â­â­

**ëŒ€í‘œ ë¬¸ì œ**: ë°±ì¤€ 17298 ì˜¤í°ìˆ˜, í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì£¼ì‹ê°€ê²©

**í•µì‹¬ ì•„ì´ë””ì–´**
- ìŠ¤íƒì— ê°’ ëŒ€ì‹  **ì¸ë±ìŠ¤**ë¥¼ ì €ì¥
- ìŠ¤íƒì„ í•­ìƒ **ë‹¨ì¡° ì¦ê°€** ë˜ëŠ” **ë‹¨ì¡° ê°ì†Œ** ìƒíƒœë¡œ ìœ ì§€
- "ë‹¤ìŒ í°/ì‘ì€ ì›ì†Œ" ë¬¸ì œì— í™œìš©

**ì˜¤í°ìˆ˜ ë¬¸ì œ (NGE)**
> ê° ì›ì†Œì— ëŒ€í•´ ì˜¤ë¥¸ìª½ì— ìˆìœ¼ë©´ì„œ ìì‹ ë³´ë‹¤ í° ìˆ˜ ì¤‘ ê°€ì¥ ì™¼ìª½ ìˆ˜

```java
public int[] nextGreaterElement(int[] arr) {
    int n = arr.length;
    int[] result = new int[n];
    Arrays.fill(result, -1);

    Deque<Integer> stack = new ArrayDeque<>();  // ì¸ë±ìŠ¤ ì €ì¥

    for (int i = 0; i < n; i++) {
        // í˜„ì¬ ê°’ì´ ìŠ¤íƒ topë³´ë‹¤ í¬ë©´ â†’ ìŠ¤íƒ topì˜ ì˜¤í°ìˆ˜ ì°¾ìŒ
        while (!stack.isEmpty() && arr[stack.peek()] < arr[i]) {
            int idx = stack.pop();
            result[idx] = arr[i];
        }
        stack.push(i);
    }

    return result;
}
```

**ë™ì‘ ì˜ˆì‹œ** (arr = [3, 5, 2, 7])
```
i=0: stack=[], push(0) â†’ stack=[0]
i=1: arr[0]=3 < 5 â†’ result[0]=5, pop â†’ stack=[]
     push(1) â†’ stack=[1]
i=2: arr[1]=5 > 2 â†’ push(2) â†’ stack=[1,2]
i=3: arr[2]=2 < 7 â†’ result[2]=7, pop
     arr[1]=5 < 7 â†’ result[1]=7, pop
     push(3) â†’ stack=[3]
ê²°ê³¼: [5, 7, 7, -1]
```

---

### ìœ í˜• 3: ìˆ˜ì‹ ê³„ì‚° â­

**ëŒ€í‘œ ë¬¸ì œ**: ë°±ì¤€ 1918 í›„ìœ„í‘œê¸°ì‹, ë°±ì¤€ 1935 í›„ìœ„í‘œê¸°ì‹2

**í›„ìœ„ í‘œê¸°ë²• (Postfix)**
- ì¤‘ìœ„: `3 + 4 * 2` â†’ í›„ìœ„: `3 4 2 * +`
- ì—°ì‚°ìê°€ í”¼ì—°ì‚°ì ë’¤ì— ì˜´

**í›„ìœ„ í‘œê¸°ì‹ ê³„ì‚°**
```java
public int evaluatePostfix(String expr) {
    Deque<Integer> stack = new ArrayDeque<>();

    for (char c : expr.toCharArray()) {
        if (Character.isDigit(c)) {
            stack.push(c - '0');
        } else {
            int b = stack.pop();  // ë‘ ë²ˆì§¸ í”¼ì—°ì‚°ì
            int a = stack.pop();  // ì²« ë²ˆì§¸ í”¼ì—°ì‚°ì

            switch (c) {
                case '+': stack.push(a + b); break;
                case '-': stack.push(a - b); break;
                case '*': stack.push(a * b); break;
                case '/': stack.push(a / b); break;
            }
        }
    }

    return stack.pop();
}
```

---

### ìœ í˜• 4: íˆìŠ¤í† ê·¸ë¨ ìµœëŒ€ ì§ì‚¬ê°í˜• â­â­â­

**ëŒ€í‘œ ë¬¸ì œ**: ë°±ì¤€ 6549, LeetCode 84

**í•µì‹¬ ì•„ì´ë””ì–´**
- ë‹¨ì¡° ì¦ê°€ ìŠ¤íƒ ìœ ì§€
- í˜„ì¬ ë†’ì´ê°€ ë” ë‚®ìœ¼ë©´ â†’ ì´ì „ ë§‰ëŒ€ë“¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì§ì‚¬ê°í˜• ê³„ì‚°

```java
public int largestRectangle(int[] heights) {
    Deque<Integer> stack = new ArrayDeque<>();
    int maxArea = 0;
    int n = heights.length;

    for (int i = 0; i <= n; i++) {
        int h = (i == n) ? 0 : heights[i];

        while (!stack.isEmpty() && heights[stack.peek()] > h) {
            int height = heights[stack.pop()];
            int width = stack.isEmpty() ? i : i - stack.peek() - 1;
            maxArea = Math.max(maxArea, height * width);
        }
        stack.push(i);
    }

    return maxArea;
}
```

---

## ì£¼ì˜ì‚¬í•­

### âš ï¸ í”í•œ ì‹¤ìˆ˜

**1. ë¹ˆ ìŠ¤íƒì—ì„œ pop/peek**
```java
// âŒ ì˜ëª»ëœ ì½”ë“œ
int top = stack.pop();  // ë¹„ì–´ìˆìœ¼ë©´ ì˜ˆì™¸!

// âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
if (!stack.isEmpty()) {
    int top = stack.pop();
}
```

**2. Stack í´ë˜ìŠ¤ ì‚¬ìš©**
```java
// âŒ ë¹„ì¶”ì²œ
Stack<Integer> stack = new Stack<>();

// âœ… ê¶Œì¥
Deque<Integer> stack = new ArrayDeque<>();
```

**3. ë‹¨ì¡° ìŠ¤íƒì—ì„œ ê°’ ëŒ€ì‹  ì¸ë±ìŠ¤ ì €ì¥ ì•ˆ í•¨**
```java
// âŒ ê°’ë§Œ ì €ì¥í•˜ë©´ ìœ„ì¹˜ë¥¼ ì•Œ ìˆ˜ ì—†ìŒ
stack.push(arr[i]);

// âœ… ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•´ì•¼ ìœ„ì¹˜ ì¶”ì  ê°€ëŠ¥
stack.push(i);  // ê°’ì€ arr[i]ë¡œ ì ‘ê·¼
```

### ğŸ’¡ íŒ

1. **ê´„í˜¸ ë¬¸ì œ**ëŠ” Mapìœ¼ë¡œ ì§ì„ ì €ì¥í•˜ë©´ ê¹”ë”
   ```java
   Map<Character, Character> pairs = Map.of(')', '(', '}', '{', ']', '[');
   ```

2. **ë‹¨ì¡° ìŠ¤íƒ**ì€ í•­ìƒ **ì¸ë±ìŠ¤**ë¥¼ ì €ì¥í•˜ëŠ” ìŠµê´€

3. **ìŠ¤íƒì´ ë¹„ì—ˆëŠ”ì§€** í•­ìƒ ë¨¼ì € ì²´í¬

---

## ì—°ìŠµ ë¬¸ì œ

### ë ˆë²¨ë³„ ì¶”ì²œ

| ë ˆë²¨ | ë¬¸ì œ | ìœ í˜• |
|-----|------|------|
| â­ | [ë°±ì¤€ 10828 ìŠ¤íƒ](https://www.acmicpc.net/problem/10828) | ê¸°ë³¸ êµ¬í˜„ |
| â­ | [ë°±ì¤€ 9012 ê´„í˜¸](https://www.acmicpc.net/problem/9012) | ê´„í˜¸ ë§¤ì¹­ |
| â­â­ | [ë°±ì¤€ 4949 ê· í˜•ì¡íŒ ì„¸ìƒ](https://www.acmicpc.net/problem/4949) | ê´„í˜¸ ë§¤ì¹­ |
| â­â­ | [ë°±ì¤€ 17298 ì˜¤í°ìˆ˜](https://www.acmicpc.net/problem/17298) | ë‹¨ì¡° ìŠ¤íƒ |
| â­â­ | [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì£¼ì‹ê°€ê²©](https://programmers.co.kr/learn/courses/30/lessons/42584) | ë‹¨ì¡° ìŠ¤íƒ |
| â­â­â­ | [ë°±ì¤€ 6549 íˆìŠ¤í† ê·¸ë¨](https://www.acmicpc.net/problem/6549) | ë‹¨ì¡° ìŠ¤íƒ |
| â­â­â­ | [ë°±ì¤€ 1918 í›„ìœ„í‘œê¸°ì‹](https://www.acmicpc.net/problem/1918) | ìˆ˜ì‹ ê³„ì‚° |

### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìŠ¤íƒ ê¸°ë³¸ ì—°ì‚° (push, pop, peek) ì´í•´
- [ ] ê´„í˜¸ ë§¤ì¹­ ë¬¸ì œ í’€ì´
- [ ] ë‹¨ì¡° ìŠ¤íƒ ê°œë… ì´í•´
- [ ] ì˜¤í°ìˆ˜ ë¬¸ì œ í’€ì´
- [ ] íˆìŠ¤í† ê·¸ë¨ ë¬¸ì œ í’€ì´

---

**ì‘ì„±ì¼:** 2026-02-02
**ì‘ì„±ì:** ë¯¼ìˆœê¸°