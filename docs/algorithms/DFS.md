# DFS (ê¹Šì´ ìš°ì„  íƒìƒ‰)

> í•œ ì¤„ ìš”ì•½: í•œ ë°©í–¥ìœ¼ë¡œ ëê¹Œì§€ ê°€ë³´ê³ , ë§‰íˆë©´ ëŒì•„ì™€ì„œ ë‹¤ë¥¸ ê¸¸ë¡œ ê°€ëŠ” íƒìƒ‰

---

## ë¬¸ì œì—ì„œ DFS/BFS êµ¬ë¶„í•˜ëŠ” í‚¤ì›Œë“œ

### DFSë¥¼ ì¨ì•¼ í•  ë•Œ

| í‚¤ì›Œë“œ | ì˜ˆì‹œ |
|--------|------|
| "ëª¨ë“  ê²½ìš°ì˜ ìˆ˜" | ê°€ëŠ¥í•œ ì¡°í•©ì„ ëª¨ë‘ êµ¬í•˜ë¼ |
| "ëª¨ë“  ê²½ë¡œ" | Aâ†’Bë¡œ ê°€ëŠ” ëª¨ë“  ê²½ë¡œë¥¼ êµ¬í•˜ë¼ |
| "ìˆœì—´/ì¡°í•©" | Nê°œ ì¤‘ Mê°œë¥¼ ê³ ë¥´ëŠ” ëª¨ë“  ê²½ìš° |
| "ë°±íŠ¸ë˜í‚¹" | ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°°ì¹˜ë¥¼ ì°¾ì•„ë¼ (N-Queen, ìŠ¤ë„ì¿ ) |
| "ì—°ê²°ëœ ì˜ì—­/ê·¸ë£¹" | ì„¬ì˜ ê°œìˆ˜, ê·¸ë¦¼ì˜ ê°œìˆ˜ |
| "ì‚¬ì´í´ íƒì§€" | ê·¸ë˜í”„ì— ìˆœí™˜ì´ ìˆëŠ”ê°€? |
| "íŠ¸ë¦¬ íƒìƒ‰" | íŠ¸ë¦¬ì˜ ë†’ì´, ì„œë¸ŒíŠ¸ë¦¬ í¬ê¸° |

### BFSë¥¼ ì¨ì•¼ í•  ë•Œ

| í‚¤ì›Œë“œ | ì˜ˆì‹œ |
|--------|------|
| "ìµœë‹¨ ê±°ë¦¬" | ìµœì†Œ ëª‡ ì¹¸ ë§Œì— ë„ì°©? |
| "ìµœì†Œ ì´ë™ íšŸìˆ˜" | ìµœì†Œ ëª‡ ë²ˆ ë§Œì—? |
| "ë ˆë²¨ë³„ ì²˜ë¦¬" | ê° ë‹¨ê³„ë³„ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬ |
| "ê°€ì¥ ê°€ê¹Œìš´" | ê°€ì¥ ê°€ê¹Œìš´ Xë¥¼ ì°¾ì•„ë¼ |

### ë‘˜ ë‹¤ ê°€ëŠ¥í•  ë•Œ

| í‚¤ì›Œë“œ | ì„¤ëª… |
|--------|------|
| "ì—°ê²° ìš”ì†Œ ê°œìˆ˜" | DFS/BFS ë‘˜ ë‹¤ ê°€ëŠ¥. ë³´í†µ DFSê°€ ì½”ë“œ ì§§ìŒ |
| "ë„ë‹¬ ê°€ëŠ¥ ì—¬ë¶€" | ê°ˆ ìˆ˜ ìˆëŠ”ì§€ë§Œ íŒë‹¨. ë‘˜ ë‹¤ OK |
| "ì˜ì—­ í¬ê¸°" | ì—°ê²°ëœ ì¹¸ ìˆ˜ ì„¸ê¸°. ë‘˜ ë‹¤ OK |

### ë¹ ë¥¸ íŒë‹¨ë²•

```
"ìµœë‹¨" "ìµœì†Œ" "ê°€ì¥ ê°€ê¹Œìš´" â†’ BFS
"ëª¨ë“ " "ê²½ìš°ì˜ ìˆ˜" "ìˆœì—´" "ì¡°í•©" â†’ DFS
"ì—°ê²°" "ì˜ì—­" "ê·¸ë£¹" "ì„¬" â†’ ë‘˜ ë‹¤ OK (DFSê°€ ì½”ë“œ ì§§ìŒ)
```

---

## BFS vs DFS ë¹„êµ

| í•­ëª© | BFS | DFS |
|------|-----|-----|
| ìë£Œêµ¬ì¡° | í (Queue) | ìŠ¤íƒ (Stack) / ì¬ê·€ |
| íƒìƒ‰ ë°©ì‹ | ë„“ê²Œ (ë ˆë²¨ë³„) | ê¹Šê²Œ (í•œ ê¸¸ ëê¹Œì§€) |
| ìµœë‹¨ ê±°ë¦¬ | ë³´ì¥ | ë³´ì¥ ì•ˆ ë¨ |
| ì‹œê°„ë³µì¡ë„ | O(V + E) | O(V + E) |
| ê³µê°„ë³µì¡ë„ | O(V) â€” ë„“ì„ìˆ˜ë¡ íê°€ ì»¤ì§ | O(V) â€” ê¹Šì„ìˆ˜ë¡ ìŠ¤íƒì´ ìŒ“ì„ |
| ì•½ì  | íŠ¸ë¦¬ê°€ ë„“ìœ¼ë©´ ë©”ëª¨ë¦¬ í„°ì§ | íŠ¸ë¦¬ê°€ ê¹Šìœ¼ë©´ StackOverflow |
| êµ¬í˜„ | ë°˜ë³µë¬¸ + í | ì¬ê·€ (ë˜ëŠ” ë°˜ë³µë¬¸ + ìŠ¤íƒ) |

---

## ë™ì‘ ì›ë¦¬

### ë‹¨ê³„ë³„ ì„¤ëª…

#### Step 1: ì‹œì‘ ë…¸ë“œ ë°©ë¬¸
```
1. ì‹œì‘ ë…¸ë“œë¥¼ ë°©ë¬¸ ì²˜ë¦¬ (visited = true)
2. ì‹œì‘ ë…¸ë“œì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ íƒìƒ‰
```

#### Step 2: ê¹Šì´ ë“¤ì–´ê°€ê¸°
```
1. ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ ë…¸ë“œë¡œ ì´ë™
2. í•´ë‹¹ ë…¸ë“œ ë°©ë¬¸ ì²˜ë¦¬
3. ë˜ ê¹Šì´ ë“¤ì–´ê° (ì¬ê·€ í˜¸ì¶œ)
```

#### Step 3: ë°±íŠ¸ë˜í‚¹ (ëŒì•„ì˜¤ê¸°)
```
1. ë” ì´ìƒ ê°ˆ ê³³ì´ ì—†ìœ¼ë©´ return
2. ì´ì „ ë…¸ë“œë¡œ ëŒì•„ê°
3. ë‹¤ë¥¸ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¸ì ‘ ë…¸ë“œë¡œ ì´ë™
```

#### Step 4: ë°˜ë³µ
```
ëª¨ë“  ë…¸ë“œë¥¼ ë°©ë¬¸í•  ë•Œê¹Œì§€ Step 2-3 ë°˜ë³µ
```

### ì‹œê°í™”

```
ê·¸ë˜í”„:
    1
   / \
  2   3
 / \   \
4   5   6

DFS íƒìƒ‰ ê³¼ì •:

dfs(1)                    visited = {1}
  â†’ dfs(2)                visited = {1, 2}
    â†’ dfs(4)              visited = {1, 2, 4}
      â†’ ê°ˆ ê³³ ì—†ìŒ, return  â† ë°±íŠ¸ë˜í‚¹
    â†’ dfs(5)              visited = {1, 2, 4, 5}
      â†’ ê°ˆ ê³³ ì—†ìŒ, return  â† ë°±íŠ¸ë˜í‚¹
    â†’ return               â† ë°±íŠ¸ë˜í‚¹
  â†’ dfs(3)                visited = {1, 2, 4, 5, 3}
    â†’ dfs(6)              visited = {1, 2, 4, 5, 3, 6}
      â†’ ê°ˆ ê³³ ì—†ìŒ, return
    â†’ return
  â†’ return

ë°©ë¬¸ ìˆœì„œ: 1 â†’ 2 â†’ 4 â†’ 5 â†’ 3 â†’ 6
```

### í•µì‹¬ í¬ì¸íŠ¸

> **ì¬ê·€ í˜¸ì¶œ = ë” ê¹Šì´ ë“¤ì–´ê°**
> **return = ëŒì•„ì˜´ (ë°±íŠ¸ë˜í‚¹)**

---

## êµ¬í˜„ (Java)

### ê¸°ë³¸ êµ¬í˜„ â€” ì¬ê·€ (ê°€ì¥ ë§ì´ ì”€)

```java
import java.util.*;

public class DFS {
    static boolean[] visited;
    static List<List<Integer>> graph;

    static void dfs(int node) {
        visited[node] = true;
        System.out.print(node + " ");

        for (int next : graph.get(node)) {
            if (!visited[next]) {
                dfs(next);
            }
        }
    }

    public static void main(String[] args) {
        int n = 7;
        graph = new ArrayList<>();
        visited = new boolean[n];

        for (int i = 0; i < n; i++) {
            graph.add(new ArrayList<>());
        }

        // ê°„ì„  ì¶”ê°€ (ì–‘ë°©í–¥)
        addEdge(1, 2);
        addEdge(1, 3);
        addEdge(2, 4);
        addEdge(2, 5);
        addEdge(3, 6);

        dfs(1);  // ì¶œë ¥: 1 2 4 5 3 6
    }

    static void addEdge(int a, int b) {
        graph.get(a).add(b);
        graph.get(b).add(a);
    }
}
```

### ìŠ¤íƒ êµ¬í˜„ â€” ë°˜ë³µë¬¸ (ì¬ê·€ ê¹Šì´ ì œí•œ ê±¸ë¦´ ë•Œ)

```java
static void dfsStack(int start) {
    Stack<Integer> stack = new Stack<>();
    stack.push(start);
    visited[start] = true;

    while (!stack.isEmpty()) {
        int node = stack.pop();
        System.out.print(node + " ");

        for (int next : graph.get(node)) {
            if (!visited[next]) {
                visited[next] = true;
                stack.push(next);
            }
        }
    }
}
```

### 2D ê·¸ë¦¬ë“œ DFS (ì½”í…Œ ë‹¨ê³¨!)

```java
public class GridDFS {
    static int[] dx = {-1, 1, 0, 0};  // ìƒí•˜ì¢Œìš°
    static int[] dy = {0, 0, -1, 1};
    static boolean[][] visited;
    static int[][] grid;
    static int n, m;

    static void dfs(int x, int y) {
        visited[x][y] = true;

        for (int i = 0; i < 4; i++) {
            int nx = x + dx[i];
            int ny = y + dy[i];

            if (nx >= 0 && nx < n && ny >= 0 && ny < m
                && !visited[nx][ny] && grid[nx][ny] == 1) {
                dfs(nx, ny);
            }
        }
    }
}
```

### ì—°ê²° ìš”ì†Œ ê°œìˆ˜ ì„¸ê¸° (ì„¬ì˜ ê°œìˆ˜ íŒ¨í„´)

```java
static int countGroups() {
    int count = 0;

    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            if (grid[i][j] == 1 && !visited[i][j]) {
                dfs(i, j);    // ì—°ê²°ëœ ì˜ì—­ ì „ì²´ ë°©ë¬¸
                count++;      // ìƒˆ ê·¸ë£¹ ë°œê²¬
            }
        }
    }

    return count;
}
```

---

## ì½”í…Œ íŒ¨í„´

### íŒ¨í„´ 1: ì—°ê²° ìš”ì†Œ (ì„¬ì˜ ê°œìˆ˜)

**ë¬¸ì œ íŠ¹ì§•:** "ì—°ê²°ëœ ê·¸ë£¹ì´ ëª‡ ê°œì¸ê°€?"

```java
// 2ì¤‘ forë¬¸ìœ¼ë¡œ ì „ì²´ ìˆœíšŒ
// ë°©ë¬¸ ì•ˆ í•œ 1ì„ ë§Œë‚˜ë©´ â†’ DFSë¡œ ì—°ê²°ëœ ê±° ë‹¤ ë°©ë¬¸ â†’ count++
```

**ëŒ€í‘œ ë¬¸ì œ:**
- ë°±ì¤€ 1926 ê·¸ë¦¼
- ë°±ì¤€ 4963 ì„¬ì˜ ê°œìˆ˜

### íŒ¨í„´ 2: ë°±íŠ¸ë˜í‚¹ (ìˆœì—´/ì¡°í•©)

**ë¬¸ì œ íŠ¹ì§•:** "ëª¨ë“  ê²½ìš°ì˜ ìˆ˜", "ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°°ì¹˜"

```java
static void backtrack(int depth) {
    if (depth == target) {
        // ì •ë‹µ ì²˜ë¦¬
        return;
    }

    for (int i = 0; i < n; i++) {
        if (!visited[i]) {
            visited[i] = true;
            backtrack(depth + 1);
            visited[i] = false;  // â† í•µì‹¬! ëŒì•„ê°ˆ ë•Œ ë°©ë¬¸ í•´ì œ
        }
    }
}
```

**ëŒ€í‘œ ë¬¸ì œ:**
- ë°±ì¤€ 15649 Nê³¼ M (ìˆœì—´)
- ë°±ì¤€ 9663 N-Queen

### íŒ¨í„´ 3: ê²½ë¡œ íƒìƒ‰

**ë¬¸ì œ íŠ¹ì§•:** "Aì—ì„œ Bë¡œ ê°€ëŠ” ê²½ë¡œ", "ë„ë‹¬ ê°€ëŠ¥í•œê°€?"

```java
static boolean findPath(int node, int target) {
    if (node == target) return true;

    visited[node] = true;

    for (int next : graph.get(node)) {
        if (!visited[next]) {
            if (findPath(next, target)) return true;
        }
    }

    return false;
}
```

---

## ì£¼ì˜ì‚¬í•­

### í”í•œ ì‹¤ìˆ˜

1. **visited ì²´í¬ ì•ˆ í•¨ â†’ ë¬´í•œ ë£¨í”„**
   ```java
   // âŒ visited ì—†ìœ¼ë©´ ì™”ë‹¤ê°”ë‹¤ ë¬´í•œë°˜ë³µ
   static void dfs(int node) {
       for (int next : graph.get(node)) {
           dfs(next);  // 1â†’2â†’1â†’2â†’1â†’2... ë¬´í•œ
       }
   }

   // âœ… visited ì²´í¬
   static void dfs(int node) {
       visited[node] = true;
       for (int next : graph.get(node)) {
           if (!visited[next]) {
               dfs(next);
           }
       }
   }
   ```

2. **ë°±íŠ¸ë˜í‚¹ì—ì„œ visited í•´ì œ ì•ˆ í•¨**
   ```java
   // âŒ ëª¨ë“  ê²½ìš°ë¥¼ ëª» íƒìƒ‰
   visited[i] = true;
   backtrack(depth + 1);
   // visited[i] = false; ë¥¼ ë¹¼ë¨¹ìœ¼ë©´ ë‹¤ë¥¸ ê²½ë¡œì—ì„œ ië¥¼ ëª» ì”€

   // âœ… ëŒì•„ì˜¬ ë•Œ í•´ì œ
   visited[i] = true;
   backtrack(depth + 1);
   visited[i] = false;
   ```

3. **2D ê·¸ë¦¬ë“œ ë²”ìœ„ ì²´í¬ ëˆ„ë½**
   ```java
   // âœ… í•­ìƒ ë²”ìœ„ ì²´í¬ ë¨¼ì €
   if (nx >= 0 && nx < n && ny >= 0 && ny < m)
   ```

4. **ì¬ê·€ ê¹Šì´ ì´ˆê³¼ (StackOverflow)**
   - Java ê¸°ë³¸ ìŠ¤íƒ í¬ê¸°ë¡œëŠ” ì•½ 1ë§Œ ê¹Šì´ê¹Œì§€
   - ë…¸ë“œê°€ 10ë§Œ+ ì´ë©´ ìŠ¤íƒ êµ¬í˜„ìœ¼ë¡œ ë°”ê¾¸ê¸°

### íŒ

- DFS ê¸°ë³¸ = **ì¬ê·€**ë¡œ ì§œëŠ” ê²Œ ê°€ì¥ ê¹”ë”
- 2D ê·¸ë¦¬ë“œ = **dx, dy ë°°ì—´** ë¯¸ë¦¬ ì •ì˜
- ë°±íŠ¸ë˜í‚¹ = **visited í•´ì œ** ìŠì§€ ë§ê¸°
- ì¬ê·€ í„°ì§€ë©´ = **ìŠ¤íƒ êµ¬í˜„**ìœ¼ë¡œ ì „í™˜

---

## ì—°ìŠµ ë¬¸ì œ

### ë‚œì´ë„ë³„ ì¶”ì²œ

#### ğŸŸ¢ Easy
1. [ë°±ì¤€ 1260 - DFSì™€ BFS](https://www.acmicpc.net/problem/1260) â€” DFS/BFS ê¸°ë³¸ ë™ì‹œ ì—°ìŠµ
2. [ë°±ì¤€ 1926 - ê·¸ë¦¼](https://www.acmicpc.net/problem/1926) â€” ì—°ê²° ìš”ì†Œ ê°œìˆ˜ + ìµœëŒ€ í¬ê¸°
3. [ë°±ì¤€ 2606 - ë°”ì´ëŸ¬ìŠ¤](https://www.acmicpc.net/problem/2606) â€” ì—°ê²°ëœ ë…¸ë“œ ìˆ˜ ì„¸ê¸°

#### ğŸŸ¡ Medium
1. [ë°±ì¤€ 1012 - ìœ ê¸°ë† ë°°ì¶”](https://www.acmicpc.net/problem/1012) â€” 2D ê·¸ë¦¬ë“œ ì—°ê²° ìš”ì†Œ
2. [ë°±ì¤€ 15649 - Nê³¼ M (1)](https://www.acmicpc.net/problem/15649) â€” ë°±íŠ¸ë˜í‚¹ ê¸°ì´ˆ
3. [ë°±ì¤€ 2667 - ë‹¨ì§€ë²ˆí˜¸ë¶™ì´ê¸°](https://www.acmicpc.net/problem/2667) â€” ì˜ì—­ í¬ê¸° ì„¸ê¸°
4. [ë°±ì¤€ 10026 - ì ë¡ìƒ‰ì•½](https://www.acmicpc.net/problem/10026) â€” ì¡°ê±´ë³„ DFS

#### ğŸ”´ Hard
1. [ë°±ì¤€ 9663 - N-Queen](https://www.acmicpc.net/problem/9663) â€” ë°±íŠ¸ë˜í‚¹ ëŒ€í‘œ
2. [ë°±ì¤€ 2580 - ìŠ¤ë„ì¿ ](https://www.acmicpc.net/problem/2580) â€” ë°±íŠ¸ë˜í‚¹ ì‹¬í™”
3. [ë°±ì¤€ 1987 - ì•ŒíŒŒë²³](https://www.acmicpc.net/problem/1987) â€” DFS + ì¡°ê±´ë¶€ ë°±íŠ¸ë˜í‚¹

### í’€ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ê¸°ë³¸ DFS êµ¬í˜„ (ê·¸ë˜í”„)
- [ ] 2D ê·¸ë¦¬ë“œ DFS (4ë°©í–¥)
- [ ] ì—°ê²° ìš”ì†Œ ê°œìˆ˜ ì„¸ê¸°
- [ ] ë°±íŠ¸ë˜í‚¹ ê¸°ì´ˆ (ìˆœì—´)
- [ ] ê²½ë¡œ íƒìƒ‰

---

**ì‘ì„±ì¼:** 2026-02-16
**ìµœì¢… ìˆ˜ì •ì¼:** 2026-02-16
**ì‘ì„±ì:** ë¯¼ìˆœê¸°
